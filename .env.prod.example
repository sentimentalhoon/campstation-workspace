# ================================
# CampStation - Production Environment Variables
# ================================
# DDNS 기반 프로덕션 배포용 설정
# 
# 사용 방법:
# 1. 이 파일을 .env.prod로 복사: cp .env.prod.example .env.prod
# 2. 모든 값을 실제 프로덕션 값으로 변경
# 3. .env.prod 파일은 절대 Git에 커밋하지 마세요!
# ================================

# ================================
# 프로젝트 기본 설정
# ================================
COMPOSE_PROJECT_NAME=campstation
SPRING_PROFILES_ACTIVE=prod
APP_NAME=CampStation
APP_VERSION=1.0.0

# ================================
# DDNS 도메인 설정
# ================================
# DuckDNS, No-IP, Cloudflare 등에서 발급받은 도메인
DOMAIN=mycamp.duckdns.org

# 서브도메인 설정 (권장)
FRONTEND_DOMAIN=${DOMAIN}                      # www.mycamp.duckdns.org 또는 mycamp.duckdns.org
API_DOMAIN=api.${DOMAIN}                       # api.mycamp.duckdns.org
STORAGE_DOMAIN=storage.${DOMAIN}               # storage.mycamp.duckdns.org
CONSOLE_DOMAIN=console.${DOMAIN}               # console.mycamp.duckdns.org

# ================================
# Frontend 설정
# ================================
FRONTEND_PORT=3000
NEXT_PUBLIC_API_URL=https://${API_DOMAIN}/api
NEXT_PUBLIC_APP_NAME=CampStation
NEXT_PUBLIC_APP_VERSION=1.0.0

# Kakao Map API Key
NEXT_PUBLIC_KAKAO_MAP_API_KEY=your_kakao_map_api_key_here

# Toss Payments (Frontend)
NEXT_PUBLIC_TOSS_CLIENT_KEY=your_toss_client_key_here

# ================================
# Backend 설정
# ================================
BACKEND_PORT=8080

# ================================
# 데이터베이스 (PostgreSQL)
# ================================
DB_URL=jdbc:postgresql://db:5432/campstation
DB_DRIVER=org.postgresql.Driver
DB_USERNAME=campstation_admin
DB_PASSWORD=CHANGE_THIS_TO_VERY_STRONG_PASSWORD_MIN_32_CHARS_DB_2025
DB_POOL_SIZE=30
DB_POOL_MIN_IDLE=10
DB_CONNECTION_TIMEOUT=30000
DB_IDLE_TIMEOUT=600000
DB_MAX_LIFETIME=1800000
DB_PORT=5432

# ================================
# Redis 캐시
# ================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_THIS_TO_VERY_STRONG_PASSWORD_MIN_32_CHARS_REDIS_2025
REDIS_TIMEOUT=2000ms
REDIS_MAXMEMORY=512mb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# ================================
# JWT 인증
# ================================
# 생성 방법: openssl rand -base64 64
JWT_SECRET=CHANGE_THIS_TO_SECURE_RANDOM_BASE64_STRING_AT_LEAST_64_BYTES_JWT_2025_PRODUCTION
JWT_EXPIRATION=3600000
JWT_REFRESH_EXPIRATION=604800000

# ================================
# CORS 설정
# ================================
# 프로덕션 도메인만 허용 (중요!)
CORS_ALLOWED_ORIGINS=https://${FRONTEND_DOMAIN},https://${API_DOMAIN}

# ================================
# MinIO (S3 호환 스토리지)
# ================================
# MinIO 관리자 계정 (강력한 비밀번호 필수!)
MINIO_ROOT_USER=campstation_minio_admin_2025
MINIO_ROOT_PASSWORD=CHANGE_THIS_TO_VERY_STRONG_PASSWORD_MIN_32_CHARS_MINIO_2025

# MinIO 서버 설정
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001
MINIO_DOMAIN=${STORAGE_DOMAIN}
MINIO_SERVER_URL=https://${STORAGE_DOMAIN}
MINIO_BROWSER_REDIRECT_URL=https://${CONSOLE_DOMAIN}

# S3/MinIO 연동 설정
AWS_S3_BUCKET_NAME=campstation-prod
AWS_S3_REGION=us-east-1
AWS_S3_ACCESS_KEY_ID=${MINIO_ROOT_USER}
AWS_S3_SECRET_ACCESS_KEY=${MINIO_ROOT_PASSWORD}
AWS_S3_ENDPOINT=http://campstation-minio:9000
AWS_S3_EXTERNAL_ENDPOINT=http://campstation-minio:9000
AWS_S3_PUBLIC_ENDPOINT=https://${DOMAIN}/storage
CLOUD_AWS_S3_ENDPOINT=${AWS_S3_ENDPOINT:-http://campstation-minio:9000}
CLOUD_AWS_S3_EXTERNAL_ENDPOINT=${AWS_S3_EXTERNAL_ENDPOINT:-http://campstation-minio:9000}
CLOUD_AWS_S3_PUBLIC_ENDPOINT=${AWS_S3_PUBLIC_ENDPOINT:-https://mycamp.duckdns.org/storage}
# MinIO 버킷 정책 (public, download, upload, none)
MINIO_BUCKET_POLICY=download

# ================================
# OAuth2 소셜 로그인
# ================================
# Google OAuth2
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here

# Kakao OAuth2
KAKAO_CLIENT_ID=your_kakao_client_id_here
KAKAO_CLIENT_SECRET=your_kakao_client_secret_here

# Naver OAuth2
NAVER_CLIENT_ID=your_naver_client_id_here
NAVER_CLIENT_SECRET=your_naver_client_secret_here

# ================================
# 이메일 (SMTP)
# ================================
# Gmail 사용 시 앱 비밀번호 필요
MAIL_USERNAME=your_email@gmail.com
MAIL_PASSWORD=your_gmail_app_password_here
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587

# ================================
# Admin 계정
# ================================
ADMIN_USERNAME=admin
ADMIN_PASSWORD=CHANGE_THIS_TO_VERY_STRONG_PASSWORD_MIN_32_CHARS_ADMIN_2025
ADMIN_EMAIL=admin@${DOMAIN}

# ================================
# Toss Payments (Backend)
# ================================
TOSS_SECRET_KEY=your_toss_secret_key_here
TOSS_CLIENT_KEY=your_toss_client_key_here

# ================================
# 로깅 설정
# ================================
LOGGING_LEVEL_ROOT=WARN
LOGGING_LEVEL_COM_CAMPSTATION=INFO

# ================================
# 백업 설정 (선택사항)
# ================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=7
BACKUP_S3_BUCKET=campstation-backups

# ================================
# 모니터링 (선택사항)
# ================================
MONITORING_ENABLED=false
GRAFANA_ADMIN_PASSWORD=admin

# ================================
# SSL/TLS 인증서 경로 (Nginx 사용 시)
# ================================
SSL_CERT_PATH=/etc/letsencrypt/live/${DOMAIN}/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/${DOMAIN}/privkey.pem

